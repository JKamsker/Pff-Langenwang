{{ define "main" }}

<style>
.cta-block-inner {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 2rem;
}
.cta-block-text {
  flex: 1;
  text-align: left;
}
.cta-block-text .cta-actions {
  justify-content: flex-start;
}
.cta-block-visual {
  flex-shrink: 0;
  color: var(--cream);
  display: flex;
  align-items: center;
  justify-content: center;
}
@media (max-width: 768px) {
  .cta-block-inner { flex-direction: column; }
  .cta-block-text { text-align: center; }
  .cta-block-text .cta-actions { justify-content: center; }
  .cta-block-visual { display: none; }
}
</style>

{{/* ---- HERO ---- */}}
{{ with .Params.hero }}
<section class="hero">
  <div class="hero-bg">
    {{ with .Params.hero.photo }}<div class="hero-photo-bg" style="--hero-photo: url('{{ . }}')"></div>{{ end }}
    <div class="hero-grain"></div>
    <div class="hero-gradient"></div>
    <svg class="hero-topo" viewBox="0 0 1200 600" preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 400 Q300 350 600 380 T1200 360" stroke="currentColor" fill="none" stroke-width="1" opacity="0.08"/>
      <path d="M0 420 Q300 370 600 400 T1200 380" stroke="currentColor" fill="none" stroke-width="1" opacity="0.06"/>
      <path d="M0 440 Q300 390 600 420 T1200 400" stroke="currentColor" fill="none" stroke-width="1" opacity="0.04"/>
      <path d="M0 300 Q200 250 400 280 Q600 310 800 270 Q1000 230 1200 260" stroke="currentColor" fill="none" stroke-width="0.8" opacity="0.06"/>
      <path d="M0 200 Q300 170 600 190 T1200 180" stroke="currentColor" fill="none" stroke-width="0.6" opacity="0.04"/>
    </svg>
  </div>

  <div class="hero-content">
    {{ with .badge }}
    <div class="hero-badge" data-animate="fade-up">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="16" height="16">
        <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/>
      </svg>
      {{ . }}
    </div>
    {{ end }}

    <h1 class="hero-title" data-animate="fade-up" data-delay="1">
      <span class="hero-title-line">{{ .title_line1 }}</span>
      <span class="hero-title-line hero-title-accent">{{ .title_line2 }}</span>
    </h1>

    {{ with .motto }}
    <p class="hero-motto" data-animate="fade-up" data-delay="2">{{ . }}</p>
    {{ end }}

    {{ with .description }}
    <p class="hero-description" data-animate="fade-up" data-delay="3">{{ . }}</p>
    {{ end }}

    <div class="hero-actions" data-animate="fade-up" data-delay="4">
      {{ with .primary_cta }}
      <a href="{{ .url }}" class="btn btn-primary">{{ .text }}</a>
      {{ end }}
      {{ with .secondary_cta }}
      <a href="{{ .url }}" class="btn btn-outline">{{ .text }}</a>
      {{ end }}
    </div>
  </div>

  {{ with .scroll_hint }}
  <div class="hero-scroll-hint" data-animate="fade-up" data-delay="5">
    <span>{{ . }}</span>
    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <path d="M12 5v14M19 12l-7 7-7-7"/>
    </svg>
  </div>
  {{ end }}
</section>
{{ end }}

{{/* ---- ABOUT TEASER ---- */}}
{{ with .Params.about }}
<section class="section section-about">
  <div class="content-width">
    <div class="split-layout">
      <div class="split-text" data-animate="fade-up">
        <span class="section-label">{{ .label }}</span>
        <h2 class="section-title">{{ .title | safeHTML }}</h2>
        <p class="section-text">{{ .text }}</p>
        {{ with .link }}
        <a href="{{ .url }}" class="link-arrow">{{ .text }} <span>&rarr;</span></a>
        {{ end }}
      </div>
      {{ with .highlight }}
      <div class="split-visual" data-animate="fade-up" data-delay="1">
        <div class="visual-card">
          <div class="visual-card-icon">
            <svg viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg" width="48" height="48">
              <path d="M24 4L6 44h36L24 4z" stroke="currentColor" stroke-width="2.5" fill="none"/>
              <path d="M24 18v12M24 34v2" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"/>
            </svg>
          </div>
          <span class="visual-card-year">{{ .number }}</span>
          <span class="visual-card-label">{{ .label | safeHTML }}</span>
        </div>
      </div>
      {{ end }}
    </div>
  </div>
</section>
{{ end }}

{{/* ---- HEIMSTUNDEN / STUFEN ---- */}}
{{ with .Params.stufen }}
<section class="section section-heimstunden">
  <div class="content-width">
    <div class="section-header" data-animate="fade-up">
      <span class="section-label">{{ .label }}</span>
      <h2 class="section-title">{{ .title }}</h2>
      {{ with .description }}
      <p class="section-text section-text--centered">{{ . }}</p>
      {{ end }}
    </div>

    {{ with .items }}
    <div class="stufen-grid">
      {{ range $i, $stufe := . }}
      <div class="stufe-card" data-animate="fade-up" data-delay="{{ add $i 1 }}" style="--stufe-hue: {{ $stufe.hue }}">
        <div class="stufe-color"></div>
        <div class="stufe-content">
          <h3 class="stufe-name">{{ $stufe.name }}</h3>
          <p class="stufe-age">{{ $stufe.age }}</p>
          <p class="stufe-desc">{{ $stufe.description }}</p>
        </div>
      </div>
      {{ end }}
    </div>
    {{ end }}

    {{ with .cta }}
    <div class="section-cta" data-animate="fade-up">
      <a href="{{ .url }}" class="btn btn-primary">{{ .text }}</a>
    </div>
    {{ end }}
  </div>
</section>
{{ end }}

{{/* ---- FACILITIES ---- */}}
{{ with .Params.facilities }}
<section class="section section-facilities">
  <div class="content-width">
    <div class="section-header" data-animate="fade-up">
      <span class="section-label">{{ .label }}</span>
      <h2 class="section-title">{{ .title }}</h2>
    </div>

    {{ with .items }}
    <div class="facilities-grid">
      {{ range $i, $facility := . }}
      <a href="{{ $facility.url }}" class="facility-card" data-animate="fade-up" {{ if $i }}data-delay="{{ $i }}"{{ end }}>
        <div class="facility-icon">
          {{ if eq $facility.icon "home" }}
          <svg viewBox="0 0 48 48" fill="none" width="40" height="40">
            <path d="M6 24L24 8l18 16" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M10 22v16h28V22" stroke="currentColor" stroke-width="2.5"/>
            <rect x="19" y="28" width="10" height="10" stroke="currentColor" stroke-width="2"/>
          </svg>
          {{ else if eq $facility.icon "boat" }}
          <svg viewBox="0 0 48 48" fill="none" width="40" height="40">
            <path d="M4 32c4-4 8 0 12-4s8 0 12-4 8 0 12-4" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"/>
            <path d="M4 38c4-4 8 0 12-4s8 0 12-4 8 0 12-4" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" opacity="0.4"/>
            <path d="M14 28l10-18 10 18" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          {{ end }}
        </div>
        <h3 class="facility-name">{{ $facility.name }}</h3>
        <p class="facility-desc">{{ $facility.description }}</p>
        <span class="card-arrow">&rarr;</span>
      </a>
      {{ end }}
    </div>
    {{ end }}
  </div>
</section>
{{ end }}

{{/* ---- CONTACT CTA ---- */}}
{{ with .Params.cta }}
<section class="section section-cta-block">
  <div class="content-width">
    <div class="cta-block" data-animate="fade-up">
      <div class="cta-block-inner">
        <div class="cta-block-text">
          <h2 class="cta-title">{{ .title }}</h2>
          <p class="cta-text">{{ .text }}</p>
          <div class="cta-actions">
            {{ with .primary }}
            <a href="{{ .url }}" class="btn btn-primary btn-light">{{ .text }}</a>
            {{ end }}
            <a href="mailto:{{ $.Site.Params.email }}" class="btn btn-outline btn-outline-light">{{ $.Site.Params.email }}</a>
          </div>
        </div>
        <div class="cta-block-visual" aria-hidden="true">
          <svg viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg" width="100" height="100" opacity="0.15">
            <path d="M60 10 L10 110 H110 Z" stroke="currentColor" stroke-width="3" fill="none"/>
            <path d="M60 35 L30 90 H90 Z" stroke="currentColor" stroke-width="2" fill="none" opacity="0.6"/>
            <circle cx="60" cy="60" r="8" fill="currentColor" opacity="0.4"/>
          </svg>
        </div>
      </div>
    </div>
  </div>
</section>
{{ end }}

{{ end }}
